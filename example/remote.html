<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remote Control Keyboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="remote.css">
</head>
<script src="keycodes.js"></script>
<body>
    <div class="container">
        <div class="remote">
            <div class="row mb-3">
                <div class="col-4"><button class="btn btn-power" onclick="this.code=KEYCODE_POWER;"><img src="./icons/power.png" alt="Power"></button></div>
                <div class="col-4"><button class="btn btn-mute" onclick="this.code=KEYCODE_MUTE;"><img src="./icons/mute.png" alt="Mute"></button></div>
                <div class="col-4"><button class="btn btn-home" onclick="this.code=KEYCODE_HOME;"><img src="./icons/home.png" alt="Home"></button></div>
            </div>
            <div class="row mb-3">
                <div class="col-4"><button class="btn btn-keypad" onclick="this.code=KEYCODE_1;">1</button></div>
                <div class="col-4"><button class="btn btn-keypad" onclick="this.code=KEYCODE_2;">2</button></div>
                <div class="col-4"><button class="btn btn-keypad" onclick="this.code=KEYCODE_3;">3</button></div>
            </div>
            <div class="row mb-3">
                <div class="col-4"><button class="btn btn-keypad" onclick="this.code=KEYCODE_4;">4</button></div>
                <div class="col-4"><button class="btn btn-keypad" onclick="this.code=KEYCODE_5;">5</button></div>
                <div class="col-4"><button class="btn btn-keypad" onclick="this.code=KEYCODE_6;">6</button></div>
            </div>
            <div class="row mb-3">
                <div class="col-4"><button class="btn btn-keypad" onclick="this.code=KEYCODE_7;">7</button></div>
                <div class="col-4"><button class="btn btn-keypad" onclick="this.code=KEYCODE_8;">8</button></div>
                <div class="col-4"><button class="btn btn-keypad" onclick="this.code=KEYCODE_9;">9</button></div>
            </div>
            <div class="row mb-3">
                <div class="col-4"></div>
                <div class="col-4"><button class="btn btn-keypad" onclick="this.code=KEYCODE_0;">0</button></div>
                <div class="col-4"></div>
            </div>
            <div class="row mb-3 pt-3">
                <div class="col-4"><button class="btn btn-up-down" onclick="this.code=KEYCODE_CHANNEL_UP;">P+</button></div>
                <div class="col-4"></div>
                <div class="col-4"><button class="btn btn-up-down" onclick="this.code=KEYCODE_VOLUME_UP;">V+</button></div>
            </div>
            <div class="row mb-3">
                <div class="col-4"><button class="btn btn-up-down" onclick="this.code=KEYCODE_CHANNEL_DOWN;">P-</button></div>
                <div class="col-4"><button class="btn btn-direction" onclick="this.code=KEYCODE_DPAD_UP;">▲</button></div>
                <div class="col-4"><button class="btn btn-up-down" onclick="this.code=KEYCODE_VOLUME_DOWN;">V-</button></div>
            </div>
            <div class="row mb-3">
                <div class="col-4"><button class="btn btn-direction" onclick="this.code=KEYCODE_DPAD_LEFT;">◀</button></div>
                <div class="col-4"><button class="btn btn-enter" onclick="this.code=KEYCODE_ENTER;">OK</button></div>
                <div class="col-4"><button class="btn btn-direction" onclick="this.code=KEYCODE_DPAD_RIGHT;">▶</button></div>
            </div>
            <div class="row mb-3">
                <div class="col-4"></div>
                <div class="col-4"><button class="btn btn-direction" onclick="this.code=KEYCODE_DPAD_DOWN;">▼</button></div>
                <div class="col-4"></div>
            </div>
            <div class="row mb-3">
                <div class="col-4"><button class="btn btn-home" onclick="this.code=KEYCODE_BACK;"><img src="./icons/back.png" alt="Back"></button></div>
                <div class="col-4"></div>
                <div class="col-4"><button class="btn btn-input" onclick="this.code=KEYCODE_TV_INPUT;"><img src="./icons/input.png" alt="Input"></button></div>
            </div>
            <div class="row mb-3 pt-3">
                <div class="col-4"><button class="btn btn-media" onclick="this.code=KEYCODE_MEDIA_REWIND;"><img src="./icons/rewind.png" alt="Rewind"></button></div>
                <div class="col-4"><button class="btn btn-media" onclick="this.code=KEYCODE_MEDIA_PLAY_PAUSE;"><img src="./icons/play-pause.png" alt="Play/Pause"></button></div>
                <div class="col-4"><button class="btn btn-media" onclick="this.code=KEYCODE_MEDIA_FAST_FORWARD;"><img src="./icons/fastforward.png" alt="FF"></button></div>
            </div>
            <div class="row mb-3">
                <div class="col-4"><button class="btn btn-media" onclick="this.code=KEYCODE_MEDIA_PREVIOUS;"><img src="./icons/previous.png" alt="Previous"></button></div>
                <div class="col-4"><button class="btn btn-media" onclick="this.code=KEYCODE_MEDIA_STOP;"><img src="./icons/stop.png" alt="Stop"></button></div>
                <div class="col-4"><button class="btn btn-media" onclick="this.code=KEYCODE_MEDIA_NEXT;"><img src="./icons/next.png" alt="Next"></button></div>
            </div>
            <div class="row">
                <div class="col-12">
                    <button class="btn btn-input" onclick="this.code=KEYCODE_TV_INPUT;"><img src="./icons/input.png" alt="Input"></button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Function to send API request
        function sendCommand(commandCode) {
            fetch('http://192.168.1.10:3000/api/sendKey', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ input: commandCode })
            })
            .then(response => response.json())
            .then(data => console.log('Success:', data))
            .catch((error) => console.error('Error:', error));
        }

        // Add click event listeners to all buttons
        document.querySelectorAll('.btn').forEach(button => {
            button.addEventListener('click', function() {
                let commandCode = this.code
                console.log("Pressed button code: " + commandCode);
                if (commandCode) {
                    sendCommand(commandCode);
                }
            });
        });
    </script>
</body>
</html>
